import{k as r,o as c,f,a as y,w as b,u as F,F as k,b as n,t as u,Z as N,m as S,g as T,n as $,e as B}from"./app-CvSUsg3-.js";import{_ as V}from"./AuthenticatedLayout-C_QskPRl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const A={class:"mt-6 mb-6 text-4xl font-extrabold leading-none tracking-tight text-gray-800 flex justify-center items-center"},O={class:"flex flex-col justify-center items-center"},Y={class:"flex justify-center items-center mt-5"},z={class:"w-[400px] h-[400px] py-11 rounded-full flex flex-col items-center justify-center text-white bg-purple-500"},E={class:"text-2xl font-bold m-5"},I=n("p",{class:"text-2xl font-bold m-5"},"Your Final Time Was :",-1),L={key:0,class:"grid md:grid-cols-2 lg:grid-cols-4 gap-1",id:"flashcardsDeck"},W=["onClick"],Z={class:"flip-card backface-hidden w-full h-full rounded-lg"},H={class:"text-center text-md flex flex-col items-center justify-center h-full"},J={class:"text-small"},U={__name:"MemoryGame",props:{deck:Object,flashcards:Object},setup(d){const{deck:K,flashcards:p}=d,v=r([]),m=r([]),a=r([]),g=r(!0);r(!1),r(!1),v.value=p.map(function(e){return{type:"answer",value:e.answer}}),m.value=p.map(function(e){return{type:"question",value:e.question}});const i=r([...v.value,...m.value]),_=()=>{w(),g.value=!0},w=()=>{const e=[...i.value];let t=x([...e]);for(;C(e,t);)t=x([...e]);return i.value=t,t},C=(e,t)=>{if(e.length!==t.length)return!1;for(let s=0;s<e.length;s++)if(e[s]!==t[s])return!1;return!0},x=e=>{for(let t=e.length-1;t>0;t--){const s=Math.floor(Math.random()*(t+1));[e[t],e[s]]=[e[s],e[t]]}return e},l=r(i.value.map(()=>({flipped:!1,style:"hidden"}))),j=(e,t)=>{l.value[e].flipped||a.value.length===2||(l.value[e].flipped=!l.value[e].flipped,q(e,t))};function q(e,t){a.value.length<2&&a.value.push({index:e,type:t}),a.value.length===2&&D(),console.log(a.value)}function D(){const[e,t]=a.value;if(e.type===t.type){l.value[e.index].style="bg-red-500",l.value[t.index].style="bg-red-500",setTimeout(function(){l.value[e.index].flipped=!l.value[e.index].flipped,l.value[t.index].flipped=!l.value[t.index].flipped,a.value=[],l.value[e.index].style="bg-sky-950",l.value[t.index].style="bg-sky-950"},2e3);return}const s=e.type==="question"?e:t,o=e.type==="answer"?e:t,h=p.find(M=>M.question===i.value[s.index].value),G=v.value[o.index];if(h.answer===G.value){l.value[e.index].style="bg-green-500",l.value[t.index].style="bg-green-500",setTimeout(function(){l.value[e.index].style="hidden",l.value[t.index].style="hidden",i.value.splice(e),i.value.splice(t),a.value=[]},2e3);return}else{l.value[e.index].style="bg-red-500",l.value[t.index].style="bg-red-500",setTimeout(function(){l.value[e.index].flipped=!l.value[e.index].flipped,l.value[t.index].flipped=!l.value[t.index].flipped,a.value=[],l.value[e.index].style="bg-sky-950",l.value[t.index].style="bg-sky-950"},2e3);return}}return(e,t)=>(c(),f(k,null,[y(F(N),null,{default:b(()=>[n("title",null,"Memory Game: "+u(d.deck.title),1)]),_:1}),y(V,null,{default:b(()=>[n("h1",A," Memory Game: "+u(d.deck.title),1),n("div",O,[n("button",{type:"button",class:"focus:outline-none text-white bg-purple-700 hover:bg-purple-800 focus:ring-4 focus:ring-purple-300 font-bold rounded-lg px-5 py-2.5 mb-2 dark:bg-purple-600 dark:hover:bg-purple-700 dark:focus:ring-purple-900",onClick:t[0]||(t[0]=s=>_())}," New Game "),n("div",null," Studied: "+u(i.value.length/2)+" / "+u(d.flashcards.length)+" Flashcards ",1)]),n("div",Y,[n("div",z,[n("p",E," You Did It "+u(e.$page.props.auth.user.name)+"! ",1),I])]),g.value?(c(),f("section",L,[(c(!0),f(k,null,S(i.value,(s,o)=>(c(),f("div",{key:s.id,class:"m-5 font-semibold flex flex-row justify-center items-center transition-transform duration-500 ease-in-out"},[n("div",{class:$(["w-[350px] h-[250px] dark:text-slate-200 border border-gray-200 rounded-lg shadow mb-2 flex flex-row justify-between cursor-pointer group perspective relative preserve-3d duration-1000",[{"flip-card":l.value[o].flipped},l.value[o].style]]),onClick:B(h=>j(o,s.type),["stop"])},[n("div",Z,[n("div",H,[n("p",J,u(s.value),1)])])],10,W)]))),128))])):T("",!0)]),_:1})],64))}};export{U as default};
