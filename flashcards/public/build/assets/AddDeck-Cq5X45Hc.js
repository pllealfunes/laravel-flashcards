import{s as T,x as z,y as E,j as M,o as l,d as S,a as c,w as v,k as y,b as e,z as D,h as m,A as $,n as L,t as k,B as G,Q as I,l as j,T as U,c as i,u as O,F as A,Z as W,g as C,e as g,m as N,C as Y,v as V}from"./app-CR7DxkEp.js";import{_ as R}from"./AuthenticatedLayout-BGHLzLns.js";import{_ as H,a as P}from"./SearchBar-B-uxLEtg.js";import{_ as Q}from"./ErrorToast-Q6geFAAw.js";import{_ as Z}from"./NewPagination-C84aDBpf.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const q={class:"fixed inset-0 overflow-y-auto flex justify-center items-center z-50"},J={class:"flex justify-center items-center"},K={class:"relative p-4 w-full max-w-md max-h-full"},X={class:"relative bg-white rounded-lg shadow dark:bg-gray-700"},ee=e("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"white",viewBox:"0 0 14 14"},[e("path",{stroke:"white","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),te=e("span",{class:"sr-only"},"Close modal",-1),se=[ee,te],oe={class:"p-4 md:p-5 text-center"},ae=e("svg",{class:"mx-auto mb-4 text-gray-400 w-12 h-12 dark:text-gray-200","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"red",viewBox:"0 0 20 20"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 11V6m0 8h.01M19 10a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})],-1),le={class:"mb-5 text-lg font-normal text-gray-900 dark:text-slate-50"},re={__name:"AddDeckModal",props:{show:{type:Boolean,default:!1},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0},addFunction:{type:Function},message:{type:String}},emits:["close"],setup(u,{emit:a}){const n=u,h=a;T(()=>n.show,()=>{n.show?document.body.style.overflow="hidden":document.body.style.overflow=null});const o=()=>{n.closeable&&h("close")},x=p=>{p.key==="Escape"&&n.show&&o()},b=()=>{n.addFunction&&(n.addFunction(),h("close"))};z(()=>document.addEventListener("keydown",x)),E(()=>{document.removeEventListener("keydown",x),document.body.style.overflow=null});const d=M(()=>({sm:"sm:max-w-sm",md:"sm:max-w-md",lg:"sm:max-w-lg",xl:"sm:max-w-xl","2xl":"sm:max-w-2xl"})[n.maxWidth]);return(p,f)=>(l(),S(G,{to:"body"},[c(D,{"leave-active-class":"duration-200"},{default:v(()=>[y(e("div",q,[c(D,{"enter-active-class":"ease-out duration-300","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"ease-in duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:v(()=>[y(e("div",{class:"fixed inset-0 bg-gray-500 opacity-75",onClick:m(o,["stop"])},null,512),[[$,u.show]])]),_:1}),c(D,{"enter-active-class":"ease-out duration-300","enter-from-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to-class":"opacity-100 translate-y-0 sm:scale-100","leave-active-class":"ease-in duration-200","leave-from-class":"opacity-100 translate-y-0 sm:scale-100","leave-to-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:v(()=>[y(e("div",{class:L(["mb-6 rounded-lg overflow-hidden transform transition-all sm:w-full sm:mx-auto",d.value])},[e("div",J,[e("div",K,[e("div",X,[e("button",{type:"button",class:"absolute top-3 end-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white",onClick:m(o,["stop"])},se),e("div",oe,[ae,e("h3",le,k(u.message),1),e("button",{type:"button",onClick:m(b,["stop"]),class:"text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 dark:focus:ring-red-800 font-medium rounded-lg text-sm inline-flex items-center px-5 py-2.5 text-center"}," Yes, I'm sure "),e("button",{type:"button",onClick:m(o,["stop"]),class:"py-2.5 px-5 ms-3 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-slate-50 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700"}," No, cancel ")])])])])],2),[[$,u.show]])]),_:1})],512),[[$,u.show]])]),_:1})]))}},ne=e("title",null,"Add Decks To Your Group",-1),ie={class:"flex flex-row flex-wrap justify-between items-center"},ce=e("div",{class:"flex flex-col"},[e("div",{class:"flex flex-row justify-center items-center gap-2"},[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Add Decks To Your Group ")])],-1),de={class:"md:w-80"},ue={class:"flex flex-row justify-evenly items-center"},me=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})],-1),he={id:"flashcardsList",class:"m-auto md:w-1/2 mt-10 p-5 md:p-10"},pe={class:"overflow-x-auto shadow-md rounded-lg mb-10"},fe={key:0},ge={class:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400"},ve=e("thead",{class:"text-gray-700 uppercase bg-gray-800 dark:bg-gray-800 text-slate-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3"}," Deck Title "),e("th",{scope:"col",class:"px-6 py-3 text-right"}," Available Decks ")])],-1),xe={class:"px-6 py-4"},ye={class:"px-6 py-4 text-right"},ke=["for"],be=["id","value"],we={class:"flex justify-center items-center"},_e={key:1},De={class:"w-full text-sm text-left rtl:text-right"},$e=e("thead",{class:"text-gray-700 uppercase bg-gray-800 dark:bg-gray-800 text-slate-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3"}," Deck Title "),e("th",{scope:"col",class:"px-6 py-3 text-right"}," Available Decks ")])],-1),je={class:"px-6 py-4"},Ae={class:"px-6 py-4 text-right"},Ce=["for"],Me=["id","value"],Se={class:"flex justify-center items-center"},Be={key:0,class:"flex flex-col justify-center items-center mt-36"},Ne=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"purple",class:"size-40"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.182 16.318A4.486 4.486 0 0 0 12.016 15a4.486 4.486 0 0 0-3.198 1.318M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0ZM9.75 9.75c0 .414-.168.75-.375.75S9 10.164 9 9.75 9.168 9 9.375 9s.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Zm5.625 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Z"})],-1),Ve={class:"mt-4 text-2xl font-bold"},Ze={key:1,class:"flex flex-col justify-center items-center mt-36"},Fe=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"purple",class:"size-40"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"})],-1),Te=e("p",{class:"mt-11 text-2xl font-bold"}," No Available Decks to Add ",-1),ze=[Fe,Te],We={__name:"AddDeck",props:{availableDecks:Object,groupId:String},setup(u){const a=u,n=I(),h=j(!1),o=j(""),x=t=>{Y.visit(t,{preserveState:!0,preserveScroll:!0,replace:!0})},b=t=>{o.value=t.trim()},d=M(()=>a.availableDecks.data.filter(t=>t.title.toLowerCase().includes(o.value.toLowerCase()))),p=M(()=>{const r=d.value.length,s=d.value.length;return{from:1,to:r,total:s}}),f=j([]),w=U({decks:[]}),B=()=>{h.value=!h.value},F=async()=>{try{w.decks=f,await w.put(route("group.addDeck",{group:Number(a.groupId)}),{preserveState:t=>Object.keys(t.props.errors).length>0},{onSuccess:()=>w.reset()})}catch(t){n.props.flash.error=`Unable to add new Deck to Group. Error: ${t}`}};return(t,r)=>(l(),i(A,null,[c(O(W),null,{default:v(()=>[ne]),_:1}),c(R,null,{header:v(()=>[e("div",ie,[ce,e("div",de,[c(H,{onSearch:b,value:o.value.value},null,8,["value"])]),e("div",ue,[e("button",{"data-testid":"add-card-submit",class:"flex flex-row gap-2 justify-center items-center focus:outline-none text-white bg-purple-700 focus:ring-4 focus:ring-green-300 font-bold rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-purple-700 dark:hover:bg-purple-500 dark:focus:ring-purple-900",onClick:m(B,["stop"])},[me,C(" Add Decks ")])])])]),default:v(()=>[c(re,{show:h.value,onClose:B,addFunction:F,message:"Are you sure you want to add the following decks?"},null,8,["show"]),t.$page.props.flash.success?(l(),S(P,{key:0,message:t.$page.props.flash.success},null,8,["message"])):g("",!0),t.$page.props.flash.error?(l(),S(Q,{key:1,message:t.$page.props.flash.error},null,8,["message"])):g("",!0),e("section",he,[e("div",pe,[o.value&&d.value.length>0?(l(),i("div",fe,[e("form",{onSubmit:r[1]||(r[1]=m((...s)=>t.submit&&t.submit(...s),["prevent"]))},[e("table",ge,[ve,e("tbody",null,[(l(!0),i(A,null,N(d.value,s=>(l(),i("tr",{key:s.id,class:"border-b border-gray-200 dark:border-gray-700 text-black"},[e("td",xe,k(s.title),1),e("td",ye,[e("label",{for:"checkbox-"+s.id,class:"text-black"},[y(e("input",{type:"checkbox",id:"checkbox-"+s.id,"onUpdate:modelValue":r[0]||(r[0]=_=>f.value=_),value:s.id},null,8,be),[[V,f.value]]),C(" Add to Group ")],8,ke)])]))),128))])]),e("div",we,[c(Z,{links:a.availableDecks.links,onNavigate:x,from:p.value.from,to:p.value.to,total:p.value.total},null,8,["links","from","to","total"])])],32)])):g("",!0),!o.value&&a.availableDecks.data.length>0?(l(),i("div",_e,[e("form",{onSubmit:r[3]||(r[3]=m((...s)=>t.submit&&t.submit(...s),["prevent"]))},[e("table",De,[$e,e("tbody",null,[(l(!0),i(A,null,N(a.availableDecks.data,s=>(l(),i("tr",{key:s.id,class:"border-b border-gray-200 dark:border-gray-700 text-black"},[e("td",je,k(s.title),1),e("td",Ae,[e("label",{for:"checkbox-"+s.id,class:"text-black"},[y(e("input",{"data-testid":"checkbox-deck-add",type:"checkbox",id:"checkbox-"+s.id,"onUpdate:modelValue":r[2]||(r[2]=_=>f.value=_),value:s.id},null,8,Me),[[V,f.value]]),C(" Add to Group ")],8,Ce)])]))),128))])]),e("div",Se,[c(Z,{links:a.availableDecks.links,onNavigate:x,from:a.availableDecks.from,to:a.availableDecks.to,total:a.availableDecks.total},null,8,["links","from","to","total"])])],32)])):g("",!0)]),o.value&&d.value.length===0?(l(),i("div",Be,[Ne,e("p",Ve,' No matching Results for "'+k(o.value)+'" ',1)])):g("",!0),!o.value&&d.value.length===0&&a.availableDecks.data.length===0?(l(),i("div",Ze,ze)):g("",!0)])]),_:1})],64))}};export{We as default};
