import{Q as R,l as h,T as I,j as S,o,c as r,a as i,u as a,w as p,F as Z,Z as P,b as e,t as n,h as f,k as Q,p as Y,e as u,i as M,g as v,d as E,m as L,C as b}from"./app-DqCWJOKh.js";import{_ as q}from"./AuthenticatedLayout-Czi820B5.js";import{d as w,r as J}from"./relativeTime-CBoUeI0X.js";import{_ as W,a as X}from"./SearchBar-DXLO8nAf.js";import{_ as ee}from"./ErrorToast--a9rrwXi.js";import{_ as $}from"./DeleteModal-4_qx0I4p.js";import{_ as G}from"./NewPagination-BFwffxIF.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const te={class:"flex flex-row flex-wrap justify-between items-center"},se={class:"flex flex-col"},oe={class:"flex flex-row justify-center items-center gap-2"},le={class:"font-semibold text-xl text-gray-800 leading-tight"},re=e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"black",class:"w-5 h-5 cursor-pointer"},[e("path",{d:"M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-8.4 8.4a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32l8.4-8.4Z"}),e("path",{d:"M5.25 5.25a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3V13.5a.75.75 0 0 0-1.5 0v5.25a1.5 1.5 0 0 1-1.5 1.5H5.25a1.5 1.5 0 0 1-1.5-1.5V8.25a1.5 1.5 0 0 1 1.5-1.5h5.25a.75.75 0 0 0 0-1.5H5.25Z"})],-1),ae=[re],ie={key:0,class:"absolute mt-5"},ne={class:"relative mt-2 z-10"},de={class:"relative bg-white rounded-lg shadow dark:bg-gray-700"},ce={class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600"},ue=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"}," Edit Group Title : ",-1),he=e("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),fe=e("span",{class:"sr-only"},"Close modal",-1),me=[he,fe],ge={class:"grid gap-4 mb-4 grid-cols-2"},pe={class:"col-span-2"},ve={for:"title",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},we={key:0,class:"text-red-300 font-bold mt-1"},xe=["disabled"],ke={class:"md:w-80"},be={class:"flex flex-row justify-evenly items-center"},_e=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})],-1),ye={class:"flex flex-row justify-evenly items-center"},je=e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-6 h-6"},[e("path",{"fill-rule":"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 0 1 3.878.512.75.75 0 1 1-.256 1.478l-.209-.035-1.005 13.07a3 3 0 0 1-2.991 2.77H8.084a3 3 0 0 1-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 0 1-.256-1.478A48.567 48.567 0 0 1 7.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 0 1 3.369 0c1.603.051 2.815 1.387 2.815 2.951Zm-6.136-1.452a51.196 51.196 0 0 1 3.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 0 0-6 0v-.113c0-.794.609-1.428 1.364-1.452Zm-.355 5.945a.75.75 0 1 0-1.5.058l.347 9a.75.75 0 1 0 1.499-.058l-.346-9Zm5.48.058a.75.75 0 1 0-1.498-.058l-.347 9a.75.75 0 0 0 1.5.058l.345-9Z","clip-rule":"evenodd"})],-1),Ce={class:"flex flex-row justify-evenly items-center"},De=e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-6 h-6"},[e("path",{"fill-rule":"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 0 1 3.878.512.75.75 0 1 1-.256 1.478l-.209-.035-1.005 13.07a3 3 0 0 1-2.991 2.77H8.084a3 3 0 0 1-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 0 1-.256-1.478A48.567 48.567 0 0 1 7.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 0 1 3.369 0c1.603.051 2.815 1.387 2.815 2.951Zm-6.136-1.452a51.196 51.196 0 0 1 3.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 0 0-6 0v-.113c0-.794.609-1.428 1.364-1.452Zm-.355 5.945a.75.75 0 1 0-1.5.058l.347 9a.75.75 0 1 0 1.499-.058l-.346-9Zm5.48.058a.75.75 0 1 0-1.498-.058l-.347 9a.75.75 0 0 0 1.5.058l.345-9Z","clip-rule":"evenodd"})],-1),Ze={class:"mt-6 flex flex-wrap justify-center items-center"},Me={key:0,class:"flex flex-col flex-wrap justify-center items-center gap-4"},$e={class:"flex flex-row flex-wrap justify-center items-center gap-4"},Ae={class:"flex flex-row justify-between"},Ve={class:"dark:text-white"},Be=["onClick"],Ne=e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"red",class:"w-6 h-6"},[e("path",{"fill-rule":"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 0 1 3.878.512.75.75 0 1 1-.256 1.478l-.209-.035-1.005 13.07a3 3 0 0 1-2.991 2.77H8.084a3 3 0 0 1-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 0 1-.256-1.478A48.567 48.567 0 0 1 7.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 0 1 3.369 0c1.603.051 2.815 1.387 2.815 2.951Zm-6.136-1.452a51.196 51.196 0 0 1 3.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 0 0-6 0v-.113c0-.794.609-1.428 1.364-1.452Zm-.355 5.945a.75.75 0 1 0-1.5.058l.347 9a.75.75 0 1 0 1.499-.058l-.346-9Zm5.48.058a.75.75 0 1 0-1.498-.058l-.347 9a.75.75 0 0 0 1.5.058l.345-9Z","clip-rule":"evenodd"})],-1),Te=[Ne],Se={key:0,class:"text-right text-gray-900 dark:text-slate-200"},Ee={key:1,class:"text-right dark:text-white"},Le={key:1,class:"flex flex-col justify-center items-center mt-36"},Ge=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"purple",class:"size-40"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.182 16.318A4.486 4.486 0 0 0 12.016 15a4.486 4.486 0 0 0-3.198 1.318M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0ZM9.75 9.75c0 .414-.168.75-.375.75S9 10.164 9 9.75 9.168 9 9.375 9s.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Zm5.625 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Z"})],-1),He={class:"mt-11 text-2xl font-bold"},Fe={key:2,class:"flex flex-col flex-wrap justify-center items-center gap-4"},Ue={class:"flex flex-row flex-wrap justify-center items-center gap-4"},ze={class:"flex flex-row justify-between"},Ke={class:"dark:text-white"},Oe=["onClick"],Re=e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"red",class:"w-6 h-6"},[e("path",{"fill-rule":"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 0 1 3.878.512.75.75 0 1 1-.256 1.478l-.209-.035-1.005 13.07a3 3 0 0 1-2.991 2.77H8.084a3 3 0 0 1-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 0 1-.256-1.478A48.567 48.567 0 0 1 7.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 0 1 3.369 0c1.603.051 2.815 1.387 2.815 2.951Zm-6.136-1.452a51.196 51.196 0 0 1 3.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 0 0-6 0v-.113c0-.794.609-1.428 1.364-1.452Zm-.355 5.945a.75.75 0 1 0-1.5.058l.347 9a.75.75 0 1 0 1.499-.058l-.346-9Zm5.48.058a.75.75 0 1 0-1.498-.058l-.347 9a.75.75 0 0 0 1.5.058l.345-9Z","clip-rule":"evenodd"})],-1),Ie=[Re],Pe={key:0,class:"text-right text-gray-900 dark:text-slate-200"},Qe={key:1,class:"text-right dark:text-white"},Ye={key:3,class:"flex flex-col justify-center items-center mt-36"},qe=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"purple",class:"size-40"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"})],-1),Je=e("p",{class:"mt-11 text-2xl font-bold"}," Add Decks To Your Group To Get Started! ",-1),We=[qe,Je],it={__name:"ViewGroup",props:{group:Object,userDecks:Object},setup(l){w.extend(J);const g=R(),A=h(),x=h(!1);h(!1);const _=h(!1),y=h(!1),j=h(!1),d=h(""),V=t=>{b.visit(t,{preserveState:!0,preserveScroll:!0,replace:!0})},c=I({title:l.group.title}),H=t=>{d.value=t.trim()},m=S(()=>l.userDecks.data.filter(t=>t.title.toLowerCase().includes(d.value.toLowerCase()))),C=S(()=>{const k=m.value.length,s=m.value.length;return{from:1,to:k,total:s}}),B=()=>{x.value=!x.value,c.clearErrors(),c.reset()},F=async()=>{try{await c.patch(route("group.updateTitle",{group:l.group.id}),{onSuccess:()=>{x.value=!1}})}catch(t){g.props.flash.error=`Unable to update card. Error: ${t}`}},N=()=>{_.value=!_.value},U=async()=>{try{await b.delete(route("group.keepDecks",{group:l.group.id}))}catch(t){g.props.flash.error=`Unable to delete group and keep decks. Error: ${t}`}},T=()=>{y.value=!y.value},z=async()=>{try{await b.delete(route("group.destroy",{group:l.group.id}))}catch(t){g.props.flash.error=`Unable to delete group. Error: ${t}`}},D=t=>{j.value=!j.value,A.value=t},K=async()=>{try{await b.patch(route("group.removeDeck",{deck:A.value})),g.props.flash.success=null}catch(t){g.props.flash.error=`Unable to remove deck. Error: ${t}`}};return(t,k)=>(o(),r(Z,null,[i(a(P),{title:l.group.title},null,8,["title"]),i(q,null,{header:p(()=>[e("div",te,[e("div",se,[e("div",oe,[e("h2",le,n(l.group.title),1),e("div",{"data-testid":"edit-group-title-icon",onClick:f(B,["stop"])},ae)]),x.value?(o(),r("div",ie,[e("div",ne,[e("div",de,[e("div",ce,[ue,e("button",{onClick:f(B,["stop"]),type:"button",class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white"},me)]),e("form",{class:"p-4 md:p-5",onSubmit:f(F,["prevent"])},[e("div",ge,[e("div",pe,[e("label",ve,n(l.group.title),1),Q(e("input",{"data-testid":"edit-group-input",name:"title",id:"title",type:"text",class:"mb-2 w-full text-black","onUpdate:modelValue":k[0]||(k[0]=s=>a(c).title=s)},null,512),[[Y,a(c).title]]),a(c).errors.title?(o(),r("div",we,n(a(c).errors.title),1)):u("",!0)])]),e("button",{"data-testid":"edit-group-title-btn",type:"submit",disabled:a(c).processing,class:"text-white inline-flex items-center bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Submit ",8,xe)],32)])])])):u("",!0)]),e("div",ke,[i(W,{onSearch:H,value:d.value.value},null,8,["value"])]),e("div",be,[i(a(M),{"data-testid":"add-deck",href:t.route("group.showAddDeck",{group:l.group.id}),as:"button",class:"flex flex-row gap-2 justify-center items-center focus:outline-none text-white bg-purple-700 hover:bg-red-800 focus:ring-4 focus:ring-purple-300 font-bold rounded-lg text-sm px-2 py-1 md:mt-0 md:px-5 md:py-2.5 me-2 mt-2 mb-2 dark:bg-purple-700 dark:hover:bg-purple-500 dark:focus:ring-purple-900"},{default:p(()=>[_e,v(" Add Deck")]),_:1},8,["href"]),e("div",ye,[e("button",{"data-testid":"delete-group-modal",class:"flex flex-row gap-2 justify-center items-center focus:outline-none text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-bold rounded-lg text-sm px-2 py-1 md:mt-0 md:px-5 md:py-2.5 me-2 mt-2 mb-2 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900",onClick:f(N,["stop"])},[v(" Delete Group Only "),je])]),e("div",Ce,[e("button",{"data-testid":"delete-all-modal",class:"flex flex-row gap-2 justify-center items-center focus:outline-none text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-bold rounded-lg text-sm px-2 py-1 md:mt-0 md:px-5 md:py-2.5 me-2 mt-2 mb-2 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900",onClick:f(T,["stop"])},[v(" Delete All "),De])])])])]),default:p(()=>[i($,{show:_.value,onClose:N,deleteFunction:U,message:"Are you sure you want to delete only the group?"},null,8,["show"]),i($,{show:y.value,onClose:T,deleteFunction:z,message:"Are you sure you want to delete this group and all decks?"},null,8,["show"]),i($,{show:j.value,onClose:D,deleteFunction:K,message:"Are you sure you want to remove this deck?"},null,8,["show"]),t.$page.props.flash.success?(o(),E(X,{key:0,message:t.$page.props.flash.success},null,8,["message"])):u("",!0),t.$page.props.flash.error?(o(),E(ee,{key:1,message:t.$page.props.flash.error},null,8,["message"])):u("",!0),e("div",Ze,[d.value&&m.value.length>0?(o(),r("div",Me,[e("div",$e,[(o(!0),r(Z,null,L(m.value,s=>(o(),r("div",{key:s.id,class:"max-w-sm p-6 bg-white border border-gray-200 rounded-lg shadow dark:bg-sky-950 dark:border-sky-950 mb-2 w-80 h-80 flex flex-col justify-between"},[e("div",Ae,[e("span",Ve,"Created: "+n(a(w)(s.created_at).fromNow()),1),e("button",{onClick:f(O=>D(s.id),["stop"])},Te,8,Be)]),i(a(M),{href:t.route("deck.show",{deck:s.id}),as:"button",class:"mb-2 text-2xl font-bold tracking-tight text-gray-900 dark:text-white"},{default:p(()=>[v(n(s.title),1)]),_:2},1032,["href"]),s.lastviewed!==null?(o(),r("span",Se,"Last Viewed: "+n(a(w)(s.lastviewed).fromNow()),1)):(o(),r("span",Ee,"Not Viewed"))]))),128))]),i(G,{links:t.flashcards.links,onNavigate:V,from:C.value.from,to:C.value.to,total:C.value.total},null,8,["links","from","to","total"])])):u("",!0),d.value&&m.value.length===0?(o(),r("div",Le,[Ge,e("p",He,' No matching Results for "'+n(d.value)+'" ',1)])):u("",!0),!d.value&&l.userDecks.data.length>0?(o(),r("div",Fe,[e("div",Ue,[(o(!0),r(Z,null,L(l.userDecks.data,s=>(o(),r("div",{key:s.id,class:"max-w-sm p-6 bg-white border border-gray-200 rounded-lg shadow dark:bg-sky-950 dark:border-sky-950 mb-2 w-80 h-80 flex flex-col justify-between"},[e("div",ze,[e("span",Ke,"Created: "+n(a(w)(s.created_at).fromNow()),1),e("button",{"data-testid":"delete-deck-modal",onClick:f(O=>D(s.id),["stop"])},Ie,8,Oe)]),i(a(M),{href:t.route("deck.show",{deck:s.id}),as:"button",class:"mb-2 text-2xl font-bold tracking-tight text-gray-900 dark:text-white"},{default:p(()=>[v(n(s.title),1)]),_:2},1032,["href"]),s.lastviewed!==null?(o(),r("span",Pe,"Last Viewed: "+n(a(w)(s.lastviewed).fromNow()),1)):(o(),r("span",Qe,"Not Viewed"))]))),128))]),i(G,{links:l.userDecks.links,onNavigate:V,from:l.userDecks.from,to:l.userDecks.to,total:l.userDecks.total},null,8,["links","from","to","total"])])):u("",!0),!d.value&&m.value.length===0&&l.userDecks.data.length===0?(o(),r("div",Ye,We)):u("",!0)])]),_:1})],64))}};export{it as default};
