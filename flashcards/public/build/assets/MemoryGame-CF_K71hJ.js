import{k as r,h as J,o as p,f as v,a as D,u as K,w as P,F as R,Z as U,b as o,t as m,g as q,m as X,n as ee,e as te,d as se}from"./app-BKrfffZD.js";import{_ as le}from"./AuthenticatedLayout-CiMqM2dS.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const ae={class:"mt-6 mb-6 text-4xl font-extrabold leading-none tracking-tight text-gray-800 flex justify-center items-center"},oe={class:"flex flex-col justify-center items-center"},ne={key:0},re={key:0,class:"flex justify-center items-center mt-5"},ue={class:"w-[400px] h-[400px] py-11 rounded-full flex flex-col items-center justify-center text-white bg-purple-500"},ce={class:"text-2xl font-bold m-5"},ie=o("p",{class:"text-2xl font-bold m-5"},"Your Final Time Was :",-1),de={class:"text-2xl font-bold m-5"},fe=o("p",{class:"text-2xl font-bold m-5"}," Number of Failed Attempts : ",-1),pe={class:"text-2xl font-bold m-5"},ve={class:"flex flex-col justify-center items-center"},me={key:0,class:"grid md:grid-cols-2 lg:grid-cols-4",id:"flashcardsDeck"},he=["onClick"],ge={class:"flip-card backface-hidden w-full h-full rounded-lg"},xe={class:"text-center text-md flex flex-col items-center justify-center h-full"},_e={class:"text-small"},ye={key:1,class:"w-[400px] h-[400px] mt-7 rounded-full flex flex-col items-center justify-center text-white bg-purple-500"},be=o("p",{class:"text-justify p-14 font-bold"},[o("b",{class:"text-black"},"Rules of The Game :"),se(" Click on the New Game button to start a new game. Click on each card to try and match the questions to their answers. At the end of the game the total time it took you to finish will be displayed. ")],-1),we=[be],S=6,Ae={__name:"MemoryGame",props:{deck:Object,flashcards:Array},setup(N){const{deck:ke,flashcards:x}=N,_=r([]),n=r([]),A=r([]),T=r([]),d=r([]),M=r(null),h=r(!1),y=r(0),i=r(0),g=r(!1),b=r(""),w=r(!1),k=r([]),C=r(0),F=()=>{k.value=x.length>=S?W(x,S):Q(x,S)},W=(e,t)=>{const s=e.filter(f=>f.question),a=e.filter(f=>f.answer);console.log("Question Cards:",s),console.log("Answer Cards:",a);const l=j(s,t/2),u=j(a,t/2),c=[...l,...u];return console.log("Selected Questions:",l),console.log("Selected Answers:",u),$(c)},Q=(e,t)=>{const s=e.filter(f=>f.question),a=e.filter(f=>f.answer),l=j(s,t/2),u=j(a,t/2),c=[...l,...u];return $(c)},j=(e,t)=>{const s=[],a=e.length,l=Array.from({length:a},(u,c)=>c);for(let u=0;u<t;u++){const c=Math.floor(Math.random()*(a-u));s.push(e[l[c]]),[l[c],l[a-u-1]]=[l[a-u-1],l[c]]}return s},$=e=>{for(let t=e.length-1;t>0;t--){const s=Math.floor(Math.random()*(t+1));[e[t],e[s]]=[e[s],e[t]]}return e},V=()=>{g.value||(y.value=Date.now()-i.value,M.value=setInterval(Y,10),g.value=!0)},B=()=>{g.value&&(clearInterval(M.value),i.value=Date.now()-y.value,g.value=!1)},O=()=>{clearInterval(M.value),y.value=0,i.value=0,g.value=!1,b.value="00:00:00:00"},Y=()=>{const e=Date.now();i.value=e-y.value;const t=String(Math.floor(i.value/(1e3*60*60))).padStart(2,"0"),s=String(Math.floor(i.value/(1e3*60)%60)).padStart(2,"0"),a=String(Math.floor(i.value/1e3%60)).padStart(2,"0"),l=String(Math.floor(i.value%1e3/10)).padStart(2,"0");b.value=`${t}:${s}:${a}:${l}`},z=J(()=>n.value.every(e=>e.style==="hidden")),E=()=>{O(),k.value=[],d.value=[],w.value=!1,h.value=!0,F(),C.value=0,A.value=k.value.map(function(e){return{type:"answer",value:e.answer}}),T.value=k.value.map(function(e){return{type:"question",value:e.question}}),_.value=[...A.value,...T.value],n.value=_.value.map(()=>({flipped:!1,style:"bg-sky-950"})),V()},I=()=>{z.value&&(h.value=!1,w.value=!0,B())},L=(e,t)=>{n.value[e].flipped||d.value.length===2||(n.value[e].flipped=!n.value[e].flipped,Z(e,t))};function Z(e,t){d.value.length<2&&d.value.push({index:e,type:t}),d.value.length===2&&H()}const H=()=>{const[e,t]=d.value;if(e.type===t.type){G(e.index,t.index,"bg-red-500",2e3),C.value++;return}const s=e.type==="question"?e:t,a=e.type==="answer"?e:t,l=x.find(c=>c.question===_.value[s.index].value),u=A.value[a.index];l.answer===u.value?G(e.index,t.index,"bg-green-500",2e3,"hidden"):(G(e.index,t.index,"bg-red-500",2e3),C.value++)},G=(e,t,s,a,l="bg-sky-950")=>{n.value[e].style=s,n.value[t].style=s,setTimeout(()=>{n.value[e].style=l,n.value[t].style=l,n.value[e].flipped=l==="bg-sky-950"?!1:n.value[e].flipped,n.value[t].flipped=l==="bg-sky-950"?!1:n.value[t].flipped,d.value=[],I()},a)};return(e,t)=>(p(),v(R,null,[D(K(U),{title:"Memory Game"}),D(le,null,{default:P(()=>[o("h1",ae," Memory Game: "+m(N.deck.title),1),o("div",oe,[o("button",{type:"button",class:"focus:outline-none text-white bg-purple-700 hover:bg-purple-800 focus:ring-4 focus:ring-purple-300 font-bold rounded-lg px-5 py-2.5 mb-2 dark:bg-purple-600 dark:hover:bg-purple-700 dark:focus:ring-purple-900",onClick:t[0]||(t[0]=s=>E())}," New Game "),h.value?(p(),v("div",ne,m(b.value),1)):q("",!0)]),w.value?(p(),v("div",re,[o("div",ue,[o("p",ce," You Did It "+m(e.$page.props.auth.user.name)+"! ",1),ie,o("p",de,m(b.value),1),fe,o("p",pe,m(C.value),1)])])):q("",!0),o("section",ve,[h.value?(p(),v("div",me,[(p(!0),v(R,null,X(_.value,(s,a)=>(p(),v("div",{key:s.id,class:"m-5 font-semibold flex flex-row justify-center items-center transition-transform duration-500 ease-in-out"},[o("div",{class:ee(["w-[350px] h-[250px] dark:text-slate-200 border border-gray-200 rounded-lg shadow mb-2 flex flex-row justify-between cursor-pointer group perspective relative preserve-3d duration-1000",[{"flip-card":n.value[a].flipped},n.value[a].style]]),onClick:te(l=>L(a,s.type),["stop"])},[o("div",ge,[o("div",xe,[o("p",_e,m(s.value),1)])])],10,he)]))),128))])):q("",!0),!h.value&&!w.value?(p(),v("div",ye,we)):q("",!0)])]),_:1})],64))}};export{Ae as default};
