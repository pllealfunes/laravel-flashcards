import{q as T,s as F,x as z,h as C,o as a,c as M,a as c,w as g,i as v,b as e,y as _,e as h,z as D,n as E,t as k,A as L,Q as G,k as $,T as O,f as i,u as I,F as j,Z as U,d as A,g as f,l as B,O as W,v as N}from"./app-DBJs8iBK.js";import{_ as Y}from"./AuthenticatedLayout-CY4-L8ZJ.js";import{_ as R,a as q}from"./SearchBar-Du1hAOJZ.js";import{_ as H}from"./ErrorToast-DiraMH6L.js";import{_ as V}from"./NewPagination-DqGhP5Qf.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const P={class:"fixed inset-0 overflow-y-auto flex justify-center items-center z-50"},Q={class:"flex justify-center items-center"},J={class:"relative p-4 w-full max-w-md max-h-full"},K={class:"relative bg-white rounded-lg shadow dark:bg-gray-700"},X=e("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"white",viewBox:"0 0 14 14"},[e("path",{stroke:"white","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),ee=e("span",{class:"sr-only"},"Close modal",-1),te=[X,ee],se={class:"p-4 md:p-5 text-center"},oe=e("svg",{class:"mx-auto mb-4 text-gray-400 w-12 h-12 dark:text-gray-200","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"red",viewBox:"0 0 20 20"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 11V6m0 8h.01M19 10a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})],-1),ae={class:"mb-5 text-lg font-normal text-gray-900 dark:text-slate-50"},le={__name:"AddDeckModal",props:{show:{type:Boolean,default:!1},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0},addFunction:{type:Function},message:{type:String}},emits:["close"],setup(o,{emit:b}){const l=o,r=b;T(()=>l.show,()=>{l.show?document.body.style.overflow="hidden":document.body.style.overflow=null});const m=()=>{l.closeable&&r("close")},x=u=>{u.key==="Escape"&&l.show&&m()},d=()=>{l.addFunction&&(l.addFunction(),r("close"))};F(()=>document.addEventListener("keydown",x)),z(()=>{document.removeEventListener("keydown",x),document.body.style.overflow=null});const p=C(()=>({sm:"sm:max-w-sm",md:"sm:max-w-md",lg:"sm:max-w-lg",xl:"sm:max-w-xl","2xl":"sm:max-w-2xl"})[l.maxWidth]);return(u,y)=>(a(),M(L,{to:"body"},[c(_,{"leave-active-class":"duration-200"},{default:g(()=>[v(e("div",P,[c(_,{"enter-active-class":"ease-out duration-300","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"ease-in duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:g(()=>[v(e("div",{class:"fixed inset-0 bg-gray-500 opacity-75",onClick:h(m,["stop"])},null,512),[[D,o.show]])]),_:1}),c(_,{"enter-active-class":"ease-out duration-300","enter-from-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to-class":"opacity-100 translate-y-0 sm:scale-100","leave-active-class":"ease-in duration-200","leave-from-class":"opacity-100 translate-y-0 sm:scale-100","leave-to-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:g(()=>[v(e("div",{class:E(["mb-6 rounded-lg overflow-hidden transform transition-all sm:w-full sm:mx-auto",p.value])},[e("div",Q,[e("div",J,[e("div",K,[e("button",{type:"button",class:"absolute top-3 end-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white",onClick:h(m,["stop"])},te),e("div",se,[oe,e("h3",ae,k(o.message),1),e("button",{type:"button",onClick:h(d,["stop"]),class:"text-white bg-red-600 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 dark:focus:ring-red-800 font-medium rounded-lg text-sm inline-flex items-center px-5 py-2.5 text-center"}," Yes, I'm sure "),e("button",{type:"button",onClick:h(m,["stop"]),class:"py-2.5 px-5 ms-3 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-slate-50 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700"}," No, cancel ")])])])])],2),[[D,o.show]])]),_:1})],512),[[D,o.show]])]),_:1})]))}},re=e("title",null,"Add Decks To Your Group",-1),ne={class:"flex flex-row flex-wrap justify-between items-center"},ie=e("div",{class:"flex flex-col"},[e("div",{class:"flex flex-row justify-center items-center gap-2"},[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Add Decks To Your Group ")])],-1),ce={class:"md:w-80"},de={class:"flex flex-row justify-evenly items-center"},ue=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})],-1),me={id:"flashcardsList",class:"m-auto md:w-1/2 mt-10 p-5 md:p-10"},he={class:"overflow-x-auto shadow-md rounded-lg mb-10"},fe={key:0},ge={class:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400"},pe=e("thead",{class:"text-gray-700 uppercase bg-gray-800 dark:bg-gray-800 text-slate-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3"}," Deck Title "),e("th",{scope:"col",class:"px-6 py-3 text-right"}," Available Decks ")])],-1),ve={class:"px-6 py-4"},xe={class:"px-6 py-4 text-right"},ye=["for"],ke=["id","value"],be={class:"flex justify-center items-center"},we={key:1},_e={class:"w-full text-sm text-left rtl:text-right"},De=e("thead",{class:"text-gray-700 uppercase bg-gray-800 dark:bg-gray-800 text-slate-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3"}," Deck Title "),e("th",{scope:"col",class:"px-6 py-3 text-right"}," Available Decks ")])],-1),$e={class:"px-6 py-4"},je={class:"px-6 py-4 text-right"},Ae=["for"],Ce=["id","value"],Me={class:"flex justify-center items-center"},Se={key:0,class:"flex flex-col justify-center items-center mt-36"},Be=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"purple",class:"size-40"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.182 16.318A4.486 4.486 0 0 0 12.016 15a4.486 4.486 0 0 0-3.198 1.318M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0ZM9.75 9.75c0 .414-.168.75-.375.75S9 10.164 9 9.75 9.168 9 9.375 9s.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Zm5.625 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Z"})],-1),Ne={class:"mt-4 text-2xl font-bold"},Ve={key:1,class:"flex flex-col justify-center items-center mt-36"},Ze=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"purple",class:"size-40"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"})],-1),Te=e("p",{class:"mt-11 text-2xl font-bold"}," No Available Decks to Add ",-1),Fe=[Ze,Te],Ue={__name:"AddDeck",props:{availableDecks:Object,groupId:String},setup(o){const b=G(),l=$(!1),r=$(""),m=t=>{W.visit(t,{preserveState:!0,preserveScroll:!0,replace:!0})},x=t=>{r.value=t.trim()},d=C(()=>o.availableDecks.data.filter(t=>t.title.toLowerCase().includes(r.value.toLowerCase()))),p=C(()=>{const n=d.value.length,s=d.value.length;return{from:1,to:n,total:s}}),u=$([]),y=O({decks:[]}),S=()=>{l.value=!l.value},Z=async()=>{try{y.decks=u,await y.put(route("group.addDeck",{group:Number(o.groupId)}),{preserveState:t=>Object.keys(t.props.errors).length>0},{onSuccess:()=>y.reset()})}catch(t){b.props.flash.error=`Unable to add new Deck to Group. Error: ${t}`}};return(t,n)=>(a(),i(j,null,[c(I(U),null,{default:g(()=>[re]),_:1}),c(Y,null,{header:g(()=>[e("div",ne,[ie,e("div",ce,[c(R,{onSearch:x,value:r.value.value},null,8,["value"])]),e("div",de,[e("button",{class:"flex flex-row gap-2 justify-center items-center focus:outline-none text-white bg-purple-700 focus:ring-4 focus:ring-green-300 font-bold rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-purple-700 dark:hover:bg-purple-500 dark:focus:ring-purple-900",onClick:h(S,["stop"])},[ue,A(" Add Decks ")])])])]),default:g(()=>[c(le,{show:l.value,onClose:S,addFunction:Z,message:"Are you sure you want to add the following decks?"},null,8,["show"]),t.$page.props.flash.success?(a(),M(q,{key:0,message:t.$page.props.flash.success},null,8,["message"])):f("",!0),t.$page.props.flash.error?(a(),M(H,{key:1,message:t.$page.props.flash.error},null,8,["message"])):f("",!0),e("section",me,[e("div",he,[r.value&&d.value.length>0?(a(),i("div",fe,[e("form",{onSubmit:n[1]||(n[1]=h((...s)=>t.submit&&t.submit(...s),["prevent"]))},[e("table",ge,[pe,e("tbody",null,[(a(!0),i(j,null,B(d.value,s=>(a(),i("tr",{key:s.id,class:"border-b border-gray-200 dark:border-gray-700 text-black"},[e("td",ve,k(s.title),1),e("td",xe,[e("label",{for:"checkbox-"+s.id,class:"text-black"},[v(e("input",{type:"checkbox",id:"checkbox-"+s.id,"onUpdate:modelValue":n[0]||(n[0]=w=>u.value=w),value:s.id},null,8,ke),[[N,u.value]]),A(" Add to Group ")],8,ye)])]))),128))])]),e("div",be,[c(V,{links:o.availableDecks.links,onNavigate:m,from:p.value.from,to:p.value.to,total:p.value.total},null,8,["links","from","to","total"])])],32)])):f("",!0),!r.value&&o.availableDecks.data.length>0?(a(),i("div",we,[e("form",{onSubmit:n[3]||(n[3]=h((...s)=>t.submit&&t.submit(...s),["prevent"]))},[e("table",_e,[De,e("tbody",null,[(a(!0),i(j,null,B(o.availableDecks.data,s=>(a(),i("tr",{key:s.id,class:"border-b border-gray-200 dark:border-gray-700 text-black"},[e("td",$e,k(s.title),1),e("td",je,[e("label",{for:"checkbox-"+s.id,class:"text-black"},[v(e("input",{type:"checkbox",id:"checkbox-"+s.id,"onUpdate:modelValue":n[2]||(n[2]=w=>u.value=w),value:s.id},null,8,Ce),[[N,u.value]]),A(" Add to Group ")],8,Ae)])]))),128))])]),e("div",Me,[c(V,{links:o.availableDecks.links,onNavigate:m,from:o.availableDecks.from,to:o.availableDecks.to,total:o.availableDecks.total},null,8,["links","from","to","total"])])],32)])):f("",!0)]),r.value&&d.value.length===0?(a(),i("div",Se,[Be,e("p",Ne,' No matching Results for "'+k(r.value)+'" ',1)])):f("",!0),!r.value&&d.value.length===0&&o.availableDecks.data.length===0?(a(),i("div",Ve,Fe)):f("",!0)])]),_:1})],64))}};export{Ue as default};
