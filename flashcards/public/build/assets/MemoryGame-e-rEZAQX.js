import{k as a,l as D,h as V,o as c,f,a as C,w as j,u as A,F as G,b as s,t as p,Z as S,g as Y,m as z,n as E,e as I}from"./app-FDHUXgV8.js";import{_ as L}from"./AuthenticatedLayout-BnESPWpi.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const R={class:"mt-6 mb-6 text-4xl font-extrabold leading-none tracking-tight text-gray-800 flex justify-center items-center"},W={class:"flex flex-col justify-center items-center"},Z={key:0,class:"flex justify-center items-center mt-5"},H={class:"w-[400px] h-[400px] py-11 rounded-full flex flex-col items-center justify-center text-white bg-purple-500"},J={class:"text-2xl font-bold m-5"},K=s("p",{class:"text-2xl font-bold m-5"},"Your Final Time Was :",-1),P={class:"grid md:grid-cols-2 lg:grid-cols-4",id:"flashcardsDeck"},Q=["onClick"],U={class:"flip-card backface-hidden w-full h-full rounded-lg"},X={class:"text-center text-md flex flex-col items-center justify-center h-full"},ee={class:"text-small"},v=6,ne={__name:"MemoryGame",props:{deck:Object,flashcards:Object},setup(m){const{deck:te,flashcards:i}=m,d=a([]),t=a([]),g=a([]),y=a([]),n=a([]),h=a(!0),b=a(!1),k=a(!1),x=a(!1),u=a([]);D(()=>{_()});const M=()=>{if(i.length>=v){for(let e=0;e<v;e++)u.value.push(i[Math.floor(Math.random()*i.length)]);return u.value}else{let e=[];const l=[...i];for(;e.length<v;){const r=v-e.length;l.sort(()=>.5-Math.random()),e=[...e,...l.slice(0,r)]}return u.value=e}},q=V(()=>t.value.every(e=>e.style==="hidden")),_=()=>{u.value=[],n.value=[],M(),x.value=!1,k.value=!1,h.value=!0,b.value=!0,g.value=u.value.map(function(e){return{type:"answer",value:e.answer}}),y.value=u.value.map(function(e){return{type:"question",value:e.question}}),d.value=[...g.value,...y.value],t.value=d.value.map(()=>({flipped:!1,style:"bg-sky-950"}))},T=()=>{q.value&&(console.log("Game Over"),h.value=!1,b.value=!1,k.value=!0,x.value=!0)},N=(e,l)=>{t.value[e].flipped||n.value.length===2||(t.value[e].flipped=!t.value[e].flipped,O(e,l))};function O(e,l){n.value.length<2&&n.value.push({index:e,type:l}),n.value.length===2&&F()}function F(){const[e,l]=n.value;if(e.type===l.type){t.value[e.index].style="bg-red-500",t.value[l.index].style="bg-red-500",setTimeout(function(){t.value[e.index].flipped=!t.value[e.index].flipped,t.value[l.index].flipped=!t.value[l.index].flipped,n.value=[],t.value[e.index].style="bg-sky-950",t.value[l.index].style="bg-sky-950"},2e3);return}const r=e.type==="question"?e:l,o=e.type==="answer"?e:l,w=i.find(B=>B.question===d.value[r.index].value),$=g.value[o.index];if(w.answer===$.value){t.value[e.index].style="bg-green-500",t.value[l.index].style="bg-green-500",setTimeout(function(){t.value[e.index].style="hidden",t.value[l.index].style="hidden",n.value=[]},2e3),T();return}else{t.value[e.index].style="bg-red-500",t.value[l.index].style="bg-red-500",setTimeout(function(){t.value[e.index].flipped=!t.value[e.index].flipped,t.value[l.index].flipped=!t.value[l.index].flipped,n.value=[],t.value[e.index].style="bg-sky-950",t.value[l.index].style="bg-sky-950"},2e3);return}}return(e,l)=>(c(),f(G,null,[C(A(S),null,{default:j(()=>[s("title",null,"Memory Game: "+p(m.deck.title),1)]),_:1}),C(L,null,{default:j(()=>[s("h1",R," Memory Game: "+p(m.deck.title),1),s("div",W,[s("button",{type:"button",class:"focus:outline-none text-white bg-purple-700 hover:bg-purple-800 focus:ring-4 focus:ring-purple-300 font-bold rounded-lg px-5 py-2.5 mb-2 dark:bg-purple-600 dark:hover:bg-purple-700 dark:focus:ring-purple-900",onClick:l[0]||(l[0]=r=>_())}," New Game ")]),x.value?(c(),f("div",Z,[s("div",H,[s("p",J," You Did It "+p(e.$page.props.auth.user.name)+"! ",1),K])])):Y("",!0),s("section",P,[(c(!0),f(G,null,z(d.value,(r,o)=>(c(),f("div",{key:r.id,class:"m-5 font-semibold flex flex-row justify-center items-center transition-transform duration-500 ease-in-out"},[s("div",{class:E(["w-[350px] h-[250px] dark:text-slate-200 border border-gray-200 rounded-lg shadow mb-2 flex flex-row justify-between cursor-pointer group perspective relative preserve-3d duration-1000",[{"flip-card":t.value[o].flipped},t.value[o].style]]),onClick:I(w=>N(o,r.type),["stop"])},[s("div",U,[s("div",X,[s("p",ee,p(r.value),1)])])],10,Q)]))),128))])]),_:1})],64))}};export{ne as default};
