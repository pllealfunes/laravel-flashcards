import{Q as z,k as h,T as K,h as R,o as l,f as r,a as n,u as a,w as g,F as D,Z as I,b as e,t as i,e as f,i as Q,m as Y,g as u,j as Z,d as v,c as T,l as S,O as k}from"./app-DBJs8iBK.js";import{_ as q}from"./AuthenticatedLayout-CY4-L8ZJ.js";import{d as w,r as J}from"./relativeTime-CiwzQXIg.js";import{_ as P,a as W}from"./SearchBar-Du1hAOJZ.js";import{_ as X}from"./ErrorToast-DiraMH6L.js";import{_ as C}from"./DeleteModal-nrpVrbnH.js";import{_ as E}from"./NewPagination-DqGhP5Qf.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const ee={class:"flex flex-row flex-wrap justify-between items-center"},te={class:"flex flex-col"},se={class:"flex flex-row justify-center items-center gap-2"},oe={class:"font-semibold text-xl text-gray-800 leading-tight"},le=e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"black",class:"w-5 h-5 cursor-pointer"},[e("path",{d:"M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-8.4 8.4a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32l8.4-8.4Z"}),e("path",{d:"M5.25 5.25a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3V13.5a.75.75 0 0 0-1.5 0v5.25a1.5 1.5 0 0 1-1.5 1.5H5.25a1.5 1.5 0 0 1-1.5-1.5V8.25a1.5 1.5 0 0 1 1.5-1.5h5.25a.75.75 0 0 0 0-1.5H5.25Z"})],-1),re=[le],ae={key:0,class:"absolute mt-5"},ne={class:"relative mt-2 z-10"},ie={class:"relative bg-white rounded-lg shadow dark:bg-gray-700"},de={class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600"},ce=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"}," Edit Group Title : ",-1),ue=e("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),he=e("span",{class:"sr-only"},"Close modal",-1),fe=[ue,he],me={class:"grid gap-4 mb-4 grid-cols-2"},ge={class:"col-span-2"},ve={for:"title",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},we={key:0,class:"text-red-300 font-bold mt-1"},pe=["disabled"],xe={class:"md:w-80"},ke={class:"flex flex-row justify-evenly items-center"},be=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})],-1),_e={class:"flex flex-row justify-evenly items-center"},ye=e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-6 h-6"},[e("path",{"fill-rule":"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 0 1 3.878.512.75.75 0 1 1-.256 1.478l-.209-.035-1.005 13.07a3 3 0 0 1-2.991 2.77H8.084a3 3 0 0 1-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 0 1-.256-1.478A48.567 48.567 0 0 1 7.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 0 1 3.369 0c1.603.051 2.815 1.387 2.815 2.951Zm-6.136-1.452a51.196 51.196 0 0 1 3.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 0 0-6 0v-.113c0-.794.609-1.428 1.364-1.452Zm-.355 5.945a.75.75 0 1 0-1.5.058l.347 9a.75.75 0 1 0 1.499-.058l-.346-9Zm5.48.058a.75.75 0 1 0-1.498-.058l-.347 9a.75.75 0 0 0 1.5.058l.345-9Z","clip-rule":"evenodd"})],-1),je={class:"flex flex-row justify-evenly items-center"},De=e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-6 h-6"},[e("path",{"fill-rule":"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 0 1 3.878.512.75.75 0 1 1-.256 1.478l-.209-.035-1.005 13.07a3 3 0 0 1-2.991 2.77H8.084a3 3 0 0 1-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 0 1-.256-1.478A48.567 48.567 0 0 1 7.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 0 1 3.369 0c1.603.051 2.815 1.387 2.815 2.951Zm-6.136-1.452a51.196 51.196 0 0 1 3.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 0 0-6 0v-.113c0-.794.609-1.428 1.364-1.452Zm-.355 5.945a.75.75 0 1 0-1.5.058l.347 9a.75.75 0 1 0 1.499-.058l-.346-9Zm5.48.058a.75.75 0 1 0-1.498-.058l-.347 9a.75.75 0 0 0 1.5.058l.345-9Z","clip-rule":"evenodd"})],-1),Ze={class:"mt-6 flex flex-wrap justify-center items-center"},Ce={key:0,class:"flex flex-col flex-wrap justify-center items-center gap-4"},Me={class:"flex flex-row flex-wrap justify-center items-center gap-4"},$e={class:"flex flex-row justify-between"},Ae={class:"dark:text-white"},Ve=["onClick"],Be=e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"red",class:"w-6 h-6"},[e("path",{"fill-rule":"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 0 1 3.878.512.75.75 0 1 1-.256 1.478l-.209-.035-1.005 13.07a3 3 0 0 1-2.991 2.77H8.084a3 3 0 0 1-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 0 1-.256-1.478A48.567 48.567 0 0 1 7.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 0 1 3.369 0c1.603.051 2.815 1.387 2.815 2.951Zm-6.136-1.452a51.196 51.196 0 0 1 3.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 0 0-6 0v-.113c0-.794.609-1.428 1.364-1.452Zm-.355 5.945a.75.75 0 1 0-1.5.058l.347 9a.75.75 0 1 0 1.499-.058l-.346-9Zm5.48.058a.75.75 0 1 0-1.498-.058l-.347 9a.75.75 0 0 0 1.5.058l.345-9Z","clip-rule":"evenodd"})],-1),Ne=[Be],Te={key:0,class:"text-right text-gray-900 dark:text-slate-200"},Se={key:1,class:"text-right dark:text-white"},Ee={key:1,class:"flex flex-col justify-center items-center mt-36"},Le=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"purple",class:"size-40"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.182 16.318A4.486 4.486 0 0 0 12.016 15a4.486 4.486 0 0 0-3.198 1.318M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0ZM9.75 9.75c0 .414-.168.75-.375.75S9 10.164 9 9.75 9.168 9 9.375 9s.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Zm5.625 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Z"})],-1),Ge={class:"mt-11 text-2xl font-bold"},He={key:2,class:"flex flex-col flex-wrap justify-center items-center gap-4"},Fe={class:"flex flex-row flex-wrap justify-center items-center gap-4"},Oe={class:"flex flex-row justify-between"},Ue={class:"dark:text-white"},ze=["onClick"],Ke=e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"red",class:"w-6 h-6"},[e("path",{"fill-rule":"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 0 1 3.878.512.75.75 0 1 1-.256 1.478l-.209-.035-1.005 13.07a3 3 0 0 1-2.991 2.77H8.084a3 3 0 0 1-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 0 1-.256-1.478A48.567 48.567 0 0 1 7.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 0 1 3.369 0c1.603.051 2.815 1.387 2.815 2.951Zm-6.136-1.452a51.196 51.196 0 0 1 3.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 0 0-6 0v-.113c0-.794.609-1.428 1.364-1.452Zm-.355 5.945a.75.75 0 1 0-1.5.058l.347 9a.75.75 0 1 0 1.499-.058l-.346-9Zm5.48.058a.75.75 0 1 0-1.498-.058l-.347 9a.75.75 0 0 0 1.5.058l.345-9Z","clip-rule":"evenodd"})],-1),Re=[Ke],Ie={key:0,class:"text-right text-gray-900 dark:text-slate-200"},Qe={key:1,class:"text-right dark:text-white"},Ye={key:3,class:"flex flex-col justify-center items-center mt-36"},qe=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"purple",class:"size-40"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"})],-1),Je=e("p",{class:"mt-11 text-2xl font-bold"}," Add Decks To Your Group To Get Started! ",-1),Pe=[qe,Je],at={__name:"ViewGroup",props:{group:Object,userDecks:Object},setup(s){w.extend(J);const m=z(),M=h(),p=h(!1);h(!1);const b=h(!1),_=h(!1),y=h(!1),d=h(""),$=t=>{k.visit(t,{preserveState:!0,preserveScroll:!0,replace:!0})},c=K({title:s.group.title}),L=t=>{d.value=t.trim()},x=R(()=>s.userDecks.data.filter(t=>t.title.toLowerCase().includes(d.value.toLowerCase()))),A=()=>{p.value=!p.value,c.clearErrors(),c.reset()},G=async()=>{try{await c.patch(route("group.updateTitle",{group:s.group.id}),{onSuccess:()=>{p.value=!1}})}catch(t){m.props.flash.error=`Unable to update card. Error: ${t}`}},V=()=>{b.value=!b.value},H=async()=>{try{await k.delete(route("group.keepDecks",{group:s.group.id}))}catch(t){m.props.flash.error=`Unable to delete group and keep decks. Error: ${t}`}},B=()=>{_.value=!_.value},F=async()=>{try{await k.delete(route("group.destroy",{group:s.group.id}))}catch(t){m.props.flash.error=`Unable to delete group. Error: ${t}`}},j=t=>{y.value=!y.value,M.value=t},O=async()=>{try{await k.patch(route("group.removeDeck",{deck:M.value})),m.props.flash.success=null}catch(t){m.props.flash.error=`Unable to remove deck. Error: ${t}`}};return(t,N)=>(l(),r(D,null,[n(a(I),{title:s.group.title},null,8,["title"]),n(q,null,{header:g(()=>[e("div",ee,[e("div",te,[e("div",se,[e("h2",oe,i(s.group.title),1),e("div",{onClick:f(A,["stop"])},re)]),p.value?(l(),r("div",ae,[e("div",ne,[e("div",ie,[e("div",de,[ce,e("button",{onClick:f(A,["stop"]),type:"button",class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white"},fe)]),e("form",{class:"p-4 md:p-5",onSubmit:f(G,["prevent"])},[e("div",me,[e("div",ge,[e("label",ve,i(s.group.title),1),Q(e("input",{type:"text",class:"mb-2 w-full text-black","onUpdate:modelValue":N[0]||(N[0]=o=>a(c).title=o)},null,512),[[Y,a(c).title]]),a(c).errors.title?(l(),r("div",we,i(a(c).errors.title),1)):u("",!0)])]),e("button",{type:"submit",disabled:a(c).processing,class:"text-white inline-flex items-center bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Submit ",8,pe)],32)])])])):u("",!0)]),e("div",xe,[n(P,{onSearch:L,value:d.value.value},null,8,["value"])]),e("div",ke,[n(a(Z),{href:t.route("group.showAddDeck",{group:s.group.id}),as:"button",class:"flex flex-row gap-2 justify-center items-center focus:outline-none text-white bg-green-700 hover:bg-red-800 focus:ring-4 focus:ring-green-300 font-bold rounded-lg text-sm px-2 py-1 md:mt-0 md:px-5 md:py-2.5 me-2 mt-2 mb-2 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-900"},{default:g(()=>[be,v(" Add Deck")]),_:1},8,["href"]),e("div",_e,[e("button",{class:"flex flex-row gap-2 justify-center items-center focus:outline-none text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-bold rounded-lg text-sm px-2 py-1 md:mt-0 md:px-5 md:py-2.5 me-2 mt-2 mb-2 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900",onClick:f(V,["stop"])},[v(" Delete Group Only "),ye])]),e("div",je,[e("button",{class:"flex flex-row gap-2 justify-center items-center focus:outline-none text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-bold rounded-lg text-sm px-2 py-1 md:mt-0 md:px-5 md:py-2.5 me-2 mt-2 mb-2 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900",onClick:f(B,["stop"])},[v(" Delete All "),De])])])])]),default:g(()=>[n(C,{show:b.value,onClose:V,deleteFunction:H,message:"Are you sure you want to delete only the group?"},null,8,["show"]),n(C,{show:_.value,onClose:B,deleteFunction:F,message:"Are you sure you want to delete this group and all decks?"},null,8,["show"]),n(C,{show:y.value,onClose:j,deleteFunction:O,message:"Are you sure you want to remove this deck?"},null,8,["show"]),t.$page.props.flash.success?(l(),T(W,{key:0,message:t.$page.props.flash.success},null,8,["message"])):u("",!0),t.$page.props.flash.error?(l(),T(X,{key:1,message:t.$page.props.flash.error},null,8,["message"])):u("",!0),e("div",Ze,[d.value&&x.value.length>0?(l(),r("div",Ce,[e("div",Me,[(l(!0),r(D,null,S(x.value,o=>(l(),r("div",{key:o.id,class:"max-w-sm p-6 bg-white border border-gray-200 rounded-lg shadow dark:bg-sky-950 dark:border-sky-950 mb-2 w-80 h-80 flex flex-col justify-between"},[e("div",$e,[e("span",Ae,"Created: "+i(a(w)(o.created_at).fromNow()),1),e("button",{onClick:f(U=>j(o.id),["stop"])},Ne,8,Ve)]),n(a(Z),{href:t.route("deck.show",{deck:o.id}),as:"button",class:"mb-2 text-2xl font-bold tracking-tight text-gray-900 dark:text-white"},{default:g(()=>[v(i(o.title),1)]),_:2},1032,["href"]),o.lastviewed!==null?(l(),r("span",Te,"Last Viewed: "+i(a(w)(o.lastviewed).fromNow()),1)):(l(),r("span",Se,"Not Viewed"))]))),128))]),n(E,{links:s.userDecks.links,onNavigate:$},null,8,["links"])])):u("",!0),d.value&&x.value.length===0?(l(),r("div",Ee,[Le,e("p",Ge,' No matching Results for "'+i(d.value)+'" ',1)])):u("",!0),!d.value&&s.userDecks.data.length>0?(l(),r("div",He,[e("div",Fe,[(l(!0),r(D,null,S(s.userDecks.data,o=>(l(),r("div",{key:o.id,class:"max-w-sm p-6 bg-white border border-gray-200 rounded-lg shadow dark:bg-sky-950 dark:border-sky-950 mb-2 w-80 h-80 flex flex-col justify-between"},[e("div",Oe,[e("span",Ue,"Created: "+i(a(w)(o.created_at).fromNow()),1),e("button",{onClick:f(U=>j(o.id),["stop"])},Re,8,ze)]),n(a(Z),{href:t.route("deck.show",{deck:o.id}),as:"button",class:"mb-2 text-2xl font-bold tracking-tight text-gray-900 dark:text-white"},{default:g(()=>[v(i(o.title),1)]),_:2},1032,["href"]),o.lastviewed!==null?(l(),r("span",Ie,"Last Viewed: "+i(a(w)(o.lastviewed).fromNow()),1)):(l(),r("span",Qe,"Not Viewed"))]))),128))]),n(E,{links:s.userDecks.links,onNavigate:$,from:s.userDecks.from,to:s.userDecks.to,total:s.userDecks.total},null,8,["links","from","to","total"])])):u("",!0),!d.value&&x.value.length===0&&s.userDecks.data.length===0?(l(),r("div",Ye,Pe)):u("",!0)])]),_:1})],64))}};export{at as default};
