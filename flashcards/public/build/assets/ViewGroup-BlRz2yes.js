import{Q as I,l as h,T as P,j as S,o,c as l,a as i,u as a,w as g,F as Z,Z as Q,b as e,t as n,h as p,k as Y,p as q,e as u,i as M,g as v,d as E,m as L,C as k}from"./app-CR7DxkEp.js";import{_ as J}from"./AuthenticatedLayout-BGHLzLns.js";import{d as w,r as W}from"./relativeTime-DXvvR5qN.js";import{_ as X,a as ee}from"./SearchBar-B-uxLEtg.js";import{_ as te}from"./ErrorToast-Q6geFAAw.js";import{_ as $}from"./DeleteModal-Bxc8iYkl.js";import{_ as G}from"./NewPagination-C84aDBpf.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const se={class:"flex flex-row flex-wrap justify-between items-center"},oe={class:"flex flex-col"},re={class:"flex flex-row justify-center items-center gap-2"},le={class:"font-semibold text-xl text-gray-800 leading-tight"},ae=e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"black",class:"w-5 h-5 cursor-pointer"},[e("path",{d:"M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-8.4 8.4a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32l8.4-8.4Z"}),e("path",{d:"M5.25 5.25a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3V13.5a.75.75 0 0 0-1.5 0v5.25a1.5 1.5 0 0 1-1.5 1.5H5.25a1.5 1.5 0 0 1-1.5-1.5V8.25a1.5 1.5 0 0 1 1.5-1.5h5.25a.75.75 0 0 0 0-1.5H5.25Z"})],-1),ie=[ae],ne={key:0,class:"absolute mt-5"},de={class:"relative mt-2 z-10"},ce={class:"relative bg-white rounded-lg shadow dark:bg-gray-700"},ue={class:"flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600"},he=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"}," Edit Group Title : ",-1),pe=e("svg",{class:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14"},[e("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})],-1),fe=e("span",{class:"sr-only"},"Close modal",-1),me=[pe,fe],ge={class:"grid gap-4 mb-4 grid-cols-2"},ve={class:"col-span-2"},we={for:"title",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},_e={key:0,class:"text-red-300 font-bold mt-1"},xe=["disabled"],ke={class:"md:w-80"},be={class:"flex flex-row justify-evenly items-center"},ye=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})],-1),je={class:"flex flex-row justify-evenly items-center"},Ce=e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-6 h-6"},[e("path",{"fill-rule":"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 0 1 3.878.512.75.75 0 1 1-.256 1.478l-.209-.035-1.005 13.07a3 3 0 0 1-2.991 2.77H8.084a3 3 0 0 1-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 0 1-.256-1.478A48.567 48.567 0 0 1 7.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 0 1 3.369 0c1.603.051 2.815 1.387 2.815 2.951Zm-6.136-1.452a51.196 51.196 0 0 1 3.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 0 0-6 0v-.113c0-.794.609-1.428 1.364-1.452Zm-.355 5.945a.75.75 0 1 0-1.5.058l.347 9a.75.75 0 1 0 1.499-.058l-.346-9Zm5.48.058a.75.75 0 1 0-1.498-.058l-.347 9a.75.75 0 0 0 1.5.058l.345-9Z","clip-rule":"evenodd"})],-1),De={class:"flex flex-row justify-evenly items-center"},Ze=e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:"w-6 h-6"},[e("path",{"fill-rule":"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 0 1 3.878.512.75.75 0 1 1-.256 1.478l-.209-.035-1.005 13.07a3 3 0 0 1-2.991 2.77H8.084a3 3 0 0 1-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 0 1-.256-1.478A48.567 48.567 0 0 1 7.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 0 1 3.369 0c1.603.051 2.815 1.387 2.815 2.951Zm-6.136-1.452a51.196 51.196 0 0 1 3.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 0 0-6 0v-.113c0-.794.609-1.428 1.364-1.452Zm-.355 5.945a.75.75 0 1 0-1.5.058l.347 9a.75.75 0 1 0 1.499-.058l-.346-9Zm5.48.058a.75.75 0 1 0-1.498-.058l-.347 9a.75.75 0 0 0 1.5.058l.345-9Z","clip-rule":"evenodd"})],-1),Me={class:"mt-6 flex flex-wrap justify-center items-center"},$e={key:0,class:"flex flex-col flex-wrap justify-center items-center gap-4"},Ae={class:"flex flex-row flex-wrap justify-center items-center gap-4"},Ve={class:"flex flex-row justify-between"},Be={class:"dark:text-white"},Ne=["onClick"],Te=e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"red",class:"w-6 h-6"},[e("path",{"fill-rule":"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 0 1 3.878.512.75.75 0 1 1-.256 1.478l-.209-.035-1.005 13.07a3 3 0 0 1-2.991 2.77H8.084a3 3 0 0 1-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 0 1-.256-1.478A48.567 48.567 0 0 1 7.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 0 1 3.369 0c1.603.051 2.815 1.387 2.815 2.951Zm-6.136-1.452a51.196 51.196 0 0 1 3.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 0 0-6 0v-.113c0-.794.609-1.428 1.364-1.452Zm-.355 5.945a.75.75 0 1 0-1.5.058l.347 9a.75.75 0 1 0 1.499-.058l-.346-9Zm5.48.058a.75.75 0 1 0-1.498-.058l-.347 9a.75.75 0 0 0 1.5.058l.345-9Z","clip-rule":"evenodd"})],-1),Se=[Te],Ee={key:0,class:"text-right text-gray-900 dark:text-slate-200"},Le={key:1,class:"text-right dark:text-white"},Ge={key:1,class:"flex flex-col justify-center items-center mt-36"},He=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"purple",class:"size-40"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.182 16.318A4.486 4.486 0 0 0 12.016 15a4.486 4.486 0 0 0-3.198 1.318M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0ZM9.75 9.75c0 .414-.168.75-.375.75S9 10.164 9 9.75 9.168 9 9.375 9s.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Zm5.625 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Z"})],-1),Fe={class:"mt-11 text-2xl font-bold"},Ue={key:2,class:"flex flex-col flex-wrap justify-center items-center gap-4"},ze={class:"flex flex-row flex-wrap justify-center items-center gap-4"},Ke={class:"flex flex-row justify-between"},Oe={class:"dark:text-white"},Re=["onClick"],Ie=e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"red",class:"w-6 h-6"},[e("path",{"fill-rule":"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 0 1 3.878.512.75.75 0 1 1-.256 1.478l-.209-.035-1.005 13.07a3 3 0 0 1-2.991 2.77H8.084a3 3 0 0 1-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 0 1-.256-1.478A48.567 48.567 0 0 1 7.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 0 1 3.369 0c1.603.051 2.815 1.387 2.815 2.951Zm-6.136-1.452a51.196 51.196 0 0 1 3.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 0 0-6 0v-.113c0-.794.609-1.428 1.364-1.452Zm-.355 5.945a.75.75 0 1 0-1.5.058l.347 9a.75.75 0 1 0 1.499-.058l-.346-9Zm5.48.058a.75.75 0 1 0-1.498-.058l-.347 9a.75.75 0 0 0 1.5.058l.345-9Z","clip-rule":"evenodd"})],-1),Pe=[Ie],Qe={key:0,class:"text-right text-gray-900 dark:text-slate-200"},Ye={key:1,class:"text-right dark:text-white"},qe={key:3,class:"flex flex-col justify-center items-center mt-36"},Je=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"purple",class:"size-40"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"})],-1),We=e("p",{class:"mt-11 text-2xl font-bold"}," Add Decks To Your Group To Get Started! ",-1),Xe=[Je,We],nt={__name:"ViewGroup",props:{group:Object,userDecks:Object},setup(H){const r=H;w.extend(W);const m=I(),A=h(),_=h(!1);h(!1);const b=h(!1),y=h(!1),j=h(!1),d=h(""),V=t=>{k.visit(t,{preserveState:!0,preserveScroll:!0,replace:!0})},c=P({title:r.group.title}),F=t=>{d.value=t.trim()},f=S(()=>userDecks.data.filter(t=>t.title.toLowerCase().includes(d.value.toLowerCase()))),C=S(()=>{const x=f.value.length,s=f.value.length;return{from:1,to:x,total:s}}),B=()=>{_.value=!_.value,c.clearErrors(),c.reset()},U=async()=>{try{await c.patch(route("group.updateTitle",{group:r.group.id}),{onSuccess:()=>{_.value=!1}})}catch(t){m.props.flash.error=`Unable to update card. Error: ${t}`}},N=()=>{b.value=!b.value},z=async()=>{try{await k.delete(route("group.keepDecks",{group:r.group.id}))}catch(t){m.props.flash.error=`Unable to delete group and keep decks. Error: ${t}`}},T=()=>{y.value=!y.value},K=async()=>{try{await k.delete(route("group.destroy",{group:r.group.id}))}catch(t){m.props.flash.error=`Unable to delete group. Error: ${t}`}},D=t=>{j.value=!j.value,A.value=t},O=async()=>{try{await k.patch(route("group.removeDeck",{deck:A.value})),m.props.flash.success=null}catch(t){m.props.flash.error=`Unable to remove deck. Error: ${t}`}};return(t,x)=>(o(),l(Z,null,[i(a(Q),{title:r.group.title},null,8,["title"]),i(J,null,{header:g(()=>[e("div",se,[e("div",oe,[e("div",re,[e("h2",le,n(r.group.title),1),e("div",{"data-testid":"edit-group-title-icon",onClick:p(B,["stop"])},ie)]),_.value?(o(),l("div",ne,[e("div",de,[e("div",ce,[e("div",ue,[he,e("button",{onClick:p(B,["stop"]),type:"button",class:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white"},me)]),e("form",{class:"p-4 md:p-5",onSubmit:p(U,["prevent"])},[e("div",ge,[e("div",ve,[e("label",we,n(r.group.title),1),Y(e("input",{"data-testid":"edit-group-input",name:"title",id:"title",type:"text",class:"mb-2 w-full text-black","onUpdate:modelValue":x[0]||(x[0]=s=>a(c).title=s)},null,512),[[q,a(c).title]]),a(c).errors.title?(o(),l("div",_e,n(a(c).errors.title),1)):u("",!0)])]),e("button",{"data-testid":"edit-group-title-btn",type:"submit",disabled:a(c).processing,class:"text-white inline-flex items-center bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Submit ",8,xe)],32)])])])):u("",!0)]),e("div",ke,[i(X,{onSearch:F,value:d.value.value},null,8,["value"])]),e("div",be,[i(a(M),{"data-testid":"add-deck",href:t.route("group.showAddDeck",{group:r.group.id}),as:"button",class:"flex flex-row gap-2 justify-center items-center focus:outline-none text-white bg-purple-700 hover:bg-red-800 focus:ring-4 focus:ring-purple-300 font-bold rounded-lg text-sm px-2 py-1 md:mt-0 md:px-5 md:py-2.5 me-2 mt-2 mb-2 dark:bg-purple-700 dark:hover:bg-purple-500 dark:focus:ring-purple-900"},{default:g(()=>[ye,v(" Add Deck")]),_:1},8,["href"]),e("div",je,[e("button",{"data-testid":"delete-group-modal",class:"flex flex-row gap-2 justify-center items-center focus:outline-none text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-bold rounded-lg text-sm px-2 py-1 md:mt-0 md:px-5 md:py-2.5 me-2 mt-2 mb-2 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900",onClick:p(N,["stop"])},[v(" Delete Group Only "),Ce])]),e("div",De,[e("button",{"data-testid":"delete-all-modal",class:"flex flex-row gap-2 justify-center items-center focus:outline-none text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-bold rounded-lg text-sm px-2 py-1 md:mt-0 md:px-5 md:py-2.5 me-2 mt-2 mb-2 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900",onClick:p(T,["stop"])},[v(" Delete All "),Ze])])])])]),default:g(()=>[i($,{show:b.value,onClose:N,deleteFunction:z,message:"Are you sure you want to delete only the group?"},null,8,["show"]),i($,{show:y.value,onClose:T,deleteFunction:K,message:"Are you sure you want to delete this group and all decks?"},null,8,["show"]),i($,{show:j.value,onClose:D,deleteFunction:O,message:"Are you sure you want to remove this deck?"},null,8,["show"]),t.$page.props.flash.success?(o(),E(ee,{key:0,message:t.$page.props.flash.success},null,8,["message"])):u("",!0),t.$page.props.flash.error?(o(),E(te,{key:1,message:t.$page.props.flash.error},null,8,["message"])):u("",!0),e("div",Me,[d.value&&f.value.length>0?(o(),l("div",$e,[e("div",Ae,[(o(!0),l(Z,null,L(f.value,s=>(o(),l("div",{key:s.id,class:"max-w-sm p-6 bg-white border border-gray-200 rounded-lg shadow dark:bg-sky-950 dark:border-sky-950 mb-2 w-80 h-80 flex flex-col justify-between"},[e("div",Ve,[e("span",Be,"Created: "+n(a(w)(s.created_at).fromNow()),1),e("button",{onClick:p(R=>D(s.id),["stop"])},Se,8,Ne)]),i(a(M),{href:t.route("deck.show",{deck:s.id}),as:"button",class:"mb-2 text-2xl font-bold tracking-tight text-gray-900 dark:text-white"},{default:g(()=>[v(n(s.title),1)]),_:2},1032,["href"]),s.lastviewed!==null?(o(),l("span",Ee,"Last Viewed: "+n(a(w)(s.lastviewed).fromNow()),1)):(o(),l("span",Le,"Not Viewed"))]))),128))]),i(G,{links:t.flashcards.links,onNavigate:V,from:C.value.from,to:C.value.to,total:C.value.total},null,8,["links","from","to","total"])])):u("",!0),d.value&&f.value.length===0?(o(),l("div",Ge,[He,e("p",Fe,' No matching Results for "'+n(d.value)+'" ',1)])):u("",!0),!d.value&&r.userDecks.data.length>0?(o(),l("div",Ue,[e("div",ze,[(o(!0),l(Z,null,L(r.userDecks.data,s=>(o(),l("div",{key:s.id,class:"max-w-sm p-6 bg-white border border-gray-200 rounded-lg shadow dark:bg-sky-950 dark:border-sky-950 mb-2 w-80 h-80 flex flex-col justify-between"},[e("div",Ke,[e("span",Oe,"Created: "+n(a(w)(s.created_at).fromNow()),1),e("button",{"data-testid":"delete-deck-modal",onClick:p(R=>D(s.id),["stop"])},Pe,8,Re)]),i(a(M),{href:t.route("deck.show",{deck:s.id}),as:"button",class:"mb-2 text-2xl font-bold tracking-tight text-gray-900 dark:text-white"},{default:g(()=>[v(n(s.title),1)]),_:2},1032,["href"]),s.lastviewed!==null?(o(),l("span",Qe,"Last Viewed: "+n(a(w)(s.lastviewed).fromNow()),1)):(o(),l("span",Ye,"Not Viewed"))]))),128))]),i(G,{links:r.userDecks.links,onNavigate:V,from:r.userDecks.from,to:r.userDecks.to,total:r.userDecks.total},null,8,["links","from","to","total"])])):u("",!0),!d.value&&f.value.length===0&&r.userDecks.data.length===0?(o(),l("div",qe,Xe)):u("",!0)])]),_:1})],64))}};export{nt as default};
